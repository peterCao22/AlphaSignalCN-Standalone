## BigQuant 一年回测：短线接力 TOP3 信号文件（CSV）规范

### 目标
把你本地“短线接力模型”每天筛选出的 **TOP3** 股票，整理成一张 **按交易日索引** 的信号表，供 BigQuant（AIStudio/BigTrader）回测读取。

---

### 文件格式
- **文件类型**：CSV（UTF-8）
- **一行=一个标的在某个 buy_day 的信号**
- **buy_day 必须是交易日**（YYYY-MM-DD）

---

### 字段定义（最小必需）
| 字段 | 类型 | 示例 | 说明 |
|---|---|---|---|
| `date` | str | `2025-06-03` | **买入日 buy_day**（回测在该日开盘买入） |
| `instrument` | str | `000001.SZ` | 标的代码（带交易所后缀） |
| `score` | float | `0.673` | 模型分（用于排序；越大越优先） |

---

### 推荐字段（强烈建议）
| 字段 | 类型 | 示例 | 说明 |
|---|---|---|---|
| `rank` | int | `1` | buy_day 内的排名（1~3） |
| `weight` | float | `0.3333333` | 仓位权重（建议等权：1/3） |
| `source_date` | str | `2025-06-02` | 该信号基于哪天的数据/触发日生成（用于审计与排查 look-ahead） |
| `model` | str | `alphasignal_relay_v1` | 信号来源/模型标识（可选） |

---

### 关键口径（避免未来函数）
- **你希望的交易语义**：`date=buy_day` 当天开盘（竞价）买入，次交易日卖出。
- **因此信号必须在 buy_day 开盘前已可得**。
- 如果你的本地程序是在 **T 日收盘后**生成“候选”，用于 **T+1** 交易，那么应将 `date` 写成 **T+1**（而不是 T）。

---

### 示例（3行=某天 TOP3）
```csv
date,instrument,score,rank,weight,source_date,model
2025-06-03,002123.SZ,0.731,1,0.3333333,2025-06-02,alphasignal_relay_v1
2025-06-03,300456.SZ,0.692,2,0.3333333,2025-06-02,alphasignal_relay_v1
2025-06-03,600789.SH,0.661,3,0.3333333,2025-06-02,alphasignal_relay_v1
```

